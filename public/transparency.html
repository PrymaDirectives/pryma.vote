<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PRYMA Poll Transparency</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="container">
  <h1>Transparency & Threat Notes</h1>
  <p>This poll is constitutional, not a marketing funnel. Below is an exact list of what is collected and how it is stored.</p>
  <section class="panel">
    <h2>Data flow</h2>
    <ul>
      <li>No cookies or local storage writes beyond your explicit download.</li>
      <li>Static assets only; no third-party embeds or analytics.</li>
      <li>Rate-limiting uses an in-memory hash of your network address. It is never persisted to disk.</li>
      <li>Optional proof-of-work lets you bypass soft rate limits without revealing identity.</li>
      <li>Optional pseudonym key and signed message are stored separately from answers.</li>
      <li>Optional client-side encryption stores only ciphertext + IV + salt; answers are unreadable server-side.</li>
    </ul>
  </section>

  <section class="panel">
    <h2>Stored format</h2>
    <pre>{
  "storedAt": "2024-01-01T00:00:00.000Z",
  "metadata": {
    "clientSalt": "random-client-salt",
    "pseudonymKey": "optional",
    "signedMessage": "optional",
    "powUsed": true,
    "encryption": { "salt": "base64", "iv": "base64" },
    "duplicateHint": "sha256 of answers + salt",
    "timingMs": 52345,
    "entropy": "client-randomness"
  },
  "answers": { "trustPrimitive": "A living human", ... },
  "encryptedPayload": null
}</pre>
  </section>

  <section class="panel">
    <h2>Threat considerations</h2>
    <ul>
      <li><strong>Linkability:</strong> No long-term identifiers; optional encryption prevents even server-side reading.</li>
      <li><strong>Coercion:</strong> No binding to accounts; responses can be made offline and uploaded via Tor or similar.</li>
      <li><strong>Manipulation:</strong> Soft rate limit + optional PoW; dedupe hash reduces spam without identity.</li>
      <li><strong>Transparency:</strong> <code>/api/transparency</code> endpoint lists collection policy.</li>
      <li><strong>Accessibility:</strong> All controls are keyboard-navigable; mobile-friendly layout.</li>
    </ul>
  </section>

  <p><a href="/">Back to poll</a></p>
</body>
</html>
